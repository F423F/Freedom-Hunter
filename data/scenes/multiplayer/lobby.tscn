[gd_scene load_steps=9 format=2]

[ext_resource path="res://data/themes/ez-menu/ez_menu.tres" type="Theme" id=1]
[ext_resource path="res://src/multiplayer/lobby-ui.gd" type="Script" id=2]
[ext_resource path="res://data/fonts/Medieval Sharp/MedievalSharp.ttf" type="DynamicFontData" id=3]
[ext_resource path="res://data/themes/3rd-panel/3rd-panel-background.tscn" type="PackedScene" id=4]
[ext_resource path="res://data/themes/3rd-panel/3rd-panel-frame.tscn" type="PackedScene" id=5]
[ext_resource path="res://data/themes/3rd-panel/3rd-panel.tscn" type="PackedScene" id=6]

[sub_resource type="DynamicFont" id=1]
size = 84
font_data = ExtResource( 3 )

[sub_resource type="Theme" id=2]
default_font = SubResource( 1 )

[node name="multiplayer" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 24.0
margin_top = 24.0
margin_right = -24.0
margin_bottom = -24.0
size_flags_horizontal = 2
size_flags_vertical = 2
theme = ExtResource( 1 )
script = ExtResource( 2 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="vbc" type="VBoxContainer" parent="."]
anchor_left = -0.000951816
anchor_right = 0.999048
anchor_bottom = 1.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="header" parent="vbc" instance=ExtResource( 6 )]
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 820.0
margin_top = 48.0
margin_right = 1050.0
margin_bottom = 122.0
size_flags_horizontal = 6
size_flags_vertical = 6
size_flags_stretch_ratio = 0.2

[node name="content" parent="vbc/header" index="0"]
margin_right = 229.0
margin_bottom = 73.0

[node name="vbox" type="VBoxContainer" parent="vbc/header/content" index="0"]
margin_left = 8.0
margin_top = 1.0
margin_right = 220.0
margin_bottom = 70.0
size_flags_horizontal = 3
size_flags_vertical = 2
custom_constants/separation = 15
alignment = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="title" type="Label" parent="vbc/header/content/vbox"]
margin_right = 212.0
margin_bottom = 22.0
size_flags_horizontal = 3
size_flags_vertical = 2
text = "Freedom Hunter Multiplayer Lobby"
align = 1

[node name="input" type="HBoxContainer" parent="vbc/header/content/vbox"]
margin_top = 37.0
margin_right = 212.0
margin_bottom = 69.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_constants/separation = 15

[node name="username-label" type="Label" parent="vbc/header/content/vbox/input"]
margin_top = 5.0
margin_right = 65.0
margin_bottom = 27.0
size_flags_horizontal = 6
size_flags_vertical = 6
text = "Username:"
align = 2
valign = 1

[node name="username" type="LineEdit" parent="vbc/header/content/vbox/input"]
margin_left = 80.0
margin_right = 212.0
margin_bottom = 32.0
size_flags_horizontal = 3
size_flags_vertical = 2
size_flags_stretch_ratio = 3.0
placeholder_text = "Enter player's name"

[node name="3rd-frame" parent="vbc/header" index="1"]
margin_right = 229.0
margin_bottom = 73.0

[node name="hbc" type="HBoxContainer" parent="vbc"]
margin_top = 175.0
margin_right = 1871.0
margin_bottom = 1032.0
size_flags_horizontal = 3
size_flags_vertical = 3
__meta__ = {
"_edit_use_anchors_": false
}

[node name="lobby" type="PanelContainer" parent="vbc/hbc"]
margin_right = 933.0
margin_bottom = 857.0
size_flags_horizontal = 3
size_flags_vertical = 3
__meta__ = {
"_edit_use_anchors_": true
}

[node name="refresh" type="Timer" parent="vbc/hbc/lobby"]
wait_time = 10.0

[node name="scroll" type="ScrollContainer" parent="vbc/hbc/lobby"]
margin_right = 933.0
margin_bottom = 857.0
size_flags_horizontal = 7
size_flags_vertical = 7

[node name="grid" type="GridContainer" parent="vbc/hbc/lobby/scroll"]
margin_right = 933.0
margin_bottom = 28.0
size_flags_horizontal = 3
size_flags_vertical = 2
custom_constants/vseparation = 20
custom_constants/hseparation = 50
columns = 5

[node name="hostname" type="Label" parent="vbc/hbc/lobby/scroll/grid"]
margin_right = 64.0
margin_bottom = 22.0
size_flags_horizontal = 2
size_flags_vertical = 0
text = "Hostname"

[node name="port" type="Label" parent="vbc/hbc/lobby/scroll/grid"]
margin_left = 196.0
margin_right = 222.0
margin_bottom = 22.0
size_flags_horizontal = 2
size_flags_vertical = 0
text = "Port"

[node name="players" type="Label" parent="vbc/hbc/lobby/scroll/grid"]
margin_left = 392.0
margin_right = 436.0
margin_bottom = 22.0
size_flags_horizontal = 2
size_flags_vertical = 0
text = "Players"

[node name="max_players" type="Label" parent="vbc/hbc/lobby/scroll/grid"]
margin_left = 588.0
margin_right = 660.0
margin_bottom = 22.0
size_flags_horizontal = 2
size_flags_vertical = 0
text = "Max players"

[node name="refresh" type="Button" parent="vbc/hbc/lobby/scroll/grid"]
margin_left = 784.0
margin_right = 844.0
margin_bottom = 28.0
size_flags_horizontal = 2
size_flags_vertical = 2
text = "Refresh"

[node name="direct" parent="vbc/hbc" instance=ExtResource( 4 )]
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 937.0
margin_right = 1871.0
margin_bottom = 857.0
rect_pivot_offset = Vector2( -349, 74.691 )

[node name="vbox" type="VBoxContainer" parent="vbc/hbc/direct"]
margin_left = 1.0
margin_top = 1.0
margin_right = 933.0
margin_bottom = 856.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_constants/separation = 0

[node name="title" type="Label" parent="vbc/hbc/direct/vbox"]
margin_right = 932.0
margin_bottom = 22.0
size_flags_horizontal = 3
size_flags_vertical = 2
text = "Direct Connection"
align = 1

[node name="client" type="VBoxContainer" parent="vbc/hbc/direct/vbox"]
margin_top = 285.0
margin_right = 932.0
margin_bottom = 449.0
size_flags_horizontal = 3
size_flags_vertical = 2
custom_constants/separation = 20

[node name="Label" type="Label" parent="vbc/hbc/direct/vbox/client"]
margin_right = 932.0
margin_bottom = 22.0
size_flags_horizontal = 3
size_flags_vertical = 2
text = "Client"
align = 1

[node name="input" type="GridContainer" parent="vbc/hbc/direct/vbox/client"]
margin_top = 42.0
margin_right = 932.0
margin_bottom = 116.0
size_flags_horizontal = 3
size_flags_vertical = 2
custom_constants/vseparation = 10
custom_constants/hseparation = 10
columns = 2

[node name="host-label" type="Label" parent="vbc/hbc/direct/vbox/client/input"]
margin_right = 461.0
margin_bottom = 22.0
size_flags_horizontal = 3
size_flags_vertical = 2
text = "Host: "
align = 2

[node name="host" type="LineEdit" parent="vbc/hbc/direct/vbox/client/input"]
margin_left = 471.0
margin_right = 932.0
margin_bottom = 32.0
size_flags_horizontal = 3
size_flags_vertical = 2
placeholder_text = "IP address or hostname"

[node name="port-label" type="Label" parent="vbc/hbc/direct/vbox/client/input"]
margin_top = 42.0
margin_right = 461.0
margin_bottom = 64.0
size_flags_horizontal = 3
size_flags_vertical = 2
text = "UDP port: "
align = 2

[node name="port" type="LineEdit" parent="vbc/hbc/direct/vbox/client/input"]
margin_left = 471.0
margin_top = 42.0
margin_right = 932.0
margin_bottom = 74.0
size_flags_horizontal = 3
size_flags_vertical = 2
size_flags_stretch_ratio = 2.0
text = "30500"
max_length = 5
placeholder_text = "UDP port"

[node name="connect" type="Button" parent="vbc/hbc/direct/vbox/client"]
margin_top = 136.0
margin_right = 932.0
margin_bottom = 164.0
size_flags_horizontal = 3
size_flags_vertical = 2
text = "Connect"

[node name="server" type="VBoxContainer" parent="vbc/hbc/direct/vbox"]
margin_top = 570.0
margin_right = 932.0
margin_bottom = 794.0
size_flags_horizontal = 3
size_flags_vertical = 2
custom_constants/separation = 20

[node name="Label" type="Label" parent="vbc/hbc/direct/vbox/server"]
margin_right = 932.0
margin_bottom = 22.0
size_flags_horizontal = 3
size_flags_vertical = 2
text = "Server"
align = 1

[node name="input" type="GridContainer" parent="vbc/hbc/direct/vbox/server"]
margin_top = 42.0
margin_right = 932.0
margin_bottom = 116.0
size_flags_horizontal = 3
size_flags_vertical = 2
custom_constants/vseparation = 10
custom_constants/hseparation = 10
columns = 2

[node name="host-label" type="Label" parent="vbc/hbc/direct/vbox/server/input"]
margin_right = 461.0
margin_bottom = 22.0
size_flags_horizontal = 3
size_flags_vertical = 2
text = "Host:"
align = 2

[node name="host" type="LineEdit" parent="vbc/hbc/direct/vbox/server/input"]
margin_left = 471.0
margin_right = 932.0
margin_bottom = 32.0
size_flags_horizontal = 3
size_flags_vertical = 2
placeholder_text = "External address"

[node name="port-label" type="Label" parent="vbc/hbc/direct/vbox/server/input"]
margin_top = 42.0
margin_right = 461.0
margin_bottom = 64.0
size_flags_horizontal = 3
size_flags_vertical = 2
text = "UDP port: "
align = 2

[node name="port" type="LineEdit" parent="vbc/hbc/direct/vbox/server/input"]
margin_left = 471.0
margin_top = 42.0
margin_right = 932.0
margin_bottom = 74.0
size_flags_horizontal = 3
size_flags_vertical = 2
size_flags_stretch_ratio = 2.0
text = "30500"
max_length = 5
placeholder_text = "UDP port"

[node name="announce" type="CheckButton" parent="vbc/hbc/direct/vbox/server"]
margin_top = 136.0
margin_right = 932.0
margin_bottom = 176.0
size_flags_horizontal = 7
size_flags_vertical = 2
text = "Announce"
align = 1

[node name="start" type="Button" parent="vbc/hbc/direct/vbox/server"]
margin_top = 196.0
margin_right = 932.0
margin_bottom = 224.0
size_flags_horizontal = 3
size_flags_vertical = 2
text = "Start Server"

[node name="3rd-frame" parent="vbc/hbc/direct" instance=ExtResource( 5 )]
margin_right = 933.0
margin_bottom = 856.0

[node name="connecting" type="PopupPanel" parent="."]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -500.0
margin_top = -124.5
margin_right = 500.0
margin_bottom = 124.5

[node name="Label" type="Label" parent="connecting"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -496.0
margin_top = -120.5
margin_right = 496.0
margin_bottom = 120.5
theme = SubResource( 2 )
text = "Connecting"
align = 1
valign = 1

[node name="error_dialog" type="AcceptDialog" parent="."]
margin_left = 161.0
margin_top = 119.0
margin_right = 277.0
margin_bottom = 199.0
window_title = "Network error"
dialog_text = "Network Error"
__meta__ = {
"_edit_use_anchors_": false
}
[connection signal="text_changed" from="vbc/header/content/vbox/input/username" to="." method="_on_username_text_changed"]
[connection signal="timeout" from="vbc/hbc/lobby/refresh" to="." method="request_servers_list"]
[connection signal="pressed" from="vbc/hbc/lobby/scroll/grid/refresh" to="." method="request_servers_list"]
[connection signal="text_changed" from="vbc/hbc/direct/vbox/client/input/host" to="." method="client_validate_input"]
[connection signal="text_changed" from="vbc/hbc/direct/vbox/client/input/port" to="." method="client_validate_input"]
[connection signal="pressed" from="vbc/hbc/direct/vbox/client/connect" to="." method="_on_connect_pressed"]
[connection signal="text_changed" from="vbc/hbc/direct/vbox/server/input/host" to="." method="server_validate_input"]
[connection signal="text_changed" from="vbc/hbc/direct/vbox/server/input/port" to="." method="server_validate_input"]
[connection signal="toggled" from="vbc/hbc/direct/vbox/server/announce" to="." method="server_validate_input"]
[connection signal="pressed" from="vbc/hbc/direct/vbox/server/start" to="." method="_on_start_pressed"]

[editable path="vbc/header"]
